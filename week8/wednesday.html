<h2>
<a class="anchor" name="anchor-0"></a>Morning: Sessions w/ Cookie session</h2>

<p>(<strong>Content</strong>, Cognitive Skills, Non-Cognitive Skills)</p>

<p><a href="https://github.com/expressjs/cookie-session#simple-view-counter-example">https://github.com/expressjs/cookie-session#simple-view-counter-example</a></p>

<h2>
<a class="anchor" name="anchor-1"></a>Exercise</h2>

<p>In the app you have now, you are using cookies to store the username in plain text.</p>

<ul>
<li>Install and configure <code>cookie-session</code>
</li>
<li>Replace all direct references to cookies with the <code>session</code>
</li>
<li>Ensure the app continues to work</li>
</ul><p>Next steps:</p>

<ul>
<li>Replace any of your custom <code>req.cookies</code> / <code>res.cookie()</code> code with <code>cookie-session</code> for increased security in personal apps.</li>
</ul><h2>
<a class="anchor" name="anchor-2"></a>Objectives</h2>

<p>By the end of this lesson you should be able to:</p>

<ul>
<li>Explain what <code>cookie-session</code> is (using words like "package", "abstraction") and what it provides you (<code>req.session</code> etc...)</li>
<li>Install and configure <code>cookie-session</code> using a combination of the docs and your previous knowledge of <code>.env</code>
</li>
<li>Use <code>req.session</code> to set and read values</li>
<li>Clear the session when users logout</li>
</ul><h2>
<a class="anchor" name="anchor-3"></a>Guiding questions</h2>

<ul>
<li>What steps do you need to take in order to install and configure cookie-session in your app?</li>
<li>What are those keys for?  Should you store them in git?  If not, where would you store them?</li>
<li>What's the difference between using this cookie-session, and using cookies directly?</li>
<li>How do you clear a session (logout)?</li>
<li>How do you set a session key?</li>
<li>What should you store in the cookie?</li>
<li>How would you describe <code>cookie-session</code> - that is, what <em>is</em> it?  What does it <em>do</em>?</li>
</ul><h2>
<a class="anchor" name="anchor-4"></a>Higher Order Functions</h2>

<p><a href="https://github.com/gSchool/express-higher-order-function-practice">https://github.com/gSchool/express-higher-order-function-practice</a></p>

<h2>
<a class="anchor" name="anchor-5"></a>Afternoon - Async Patterns in JavaScript</h2>

<p>(Content, <strong>Cognitive Skills</strong>, Non-Cognitive Skills)</p>

<p>How do you...</p>

<ul>
<li>Make an API call from a lib file?</li>
<li>Make a Mongo call in a lib file?</li>
<li>Make an AJAX call in a separate file?</li>
</ul><p>Higher order functions!</p>

<p>In a lib file:</p>

<pre><code>module.exports = function(usersCollection, callback) {
  usersCollection.find({}, function(err, records){
    callback(records)
  })
}
</code></pre>

<p>In your routes:</p>

<pre><code>var findAllUsers = require('../lib/find-users')

router.get('/users', function(req, res, next){
  findAllUsers(function(allUsers){
    res.render('users/index', {users: allUsers});
  })
})
</code></pre>

<p>Let's work up to that though...</p>

<ul>
<li>Intro to Higher Order Functions</li>
<li>Functions as variables / calling functions as variables</li>
</ul><h2>
<a class="anchor" name="anchor-6"></a>Guiding Questions</h2>

<ul>
<li>What is a higher order function?

<ul>
<li>A function that takes functions as arguments, or returns functions</li>
</ul>
</li>
<li>What are 5 examples of where you've seen higher order functions before?</li>
</ul><h2>
<a class="anchor" name="anchor-7"></a>4:30</h2>

<ul>
<li>Lightning Talks! <a href="https://docs.google.com/spreadsheets/d/1u1UQiRIlDdrDyvBYDZQwhow2o3yxo8hkjs4aDFjpPws/edit#gid=0">https://docs.google.com/spreadsheets/d/1u1UQiRIlDdrDyvBYDZQwhow2o3yxo8hkjs4aDFjpPws/edit#gid=0</a>
</li>
</ul>
</div>
</div>
