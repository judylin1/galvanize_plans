<h2>
<a class="anchor" name="anchor-0"></a>Generating Test Cases</h2>

<p>Think of a signup screen with a simple email / password field.  What are all the various cases you'd test for in order to give your stamp of approval that the form is robust and high quality?  What are the various emails / passwords you'd put in to figure this out?</p>

<p>Describe your test cases using the following language:</p>

<pre><code>Given a user in the database with the email x
When I enter [some email] and [some password] and [some password confirmation] and hit submit
Then a user record should be added to the database etc...
</code></pre>

<p><img class="img-responsive" src="https://galvanize.mybalsamiq.com/mockups/3276828.png?key=ed1559654fd129e94319ca82828d854c8978fe2e" alt=""></p>

<h2>
<a class="anchor" name="anchor-1"></a>Storing Passwords</h2>

<p>The eventual objective is that you can both understand and build an entire authentication flow.  This is just one step in that process.</p>

<p>Objectives:</p>

<p>By the end of this lesson you should be able to:</p>

<ul>
<li>Explain <em>why</em> storing passwords in clear text is bad</li>
<li>Explain <em>how</em> 1-way hashing works</li>
<li>Store hashed passwords in Mongo with BCrypt (<a href="https://www.npmjs.com/package/bcryptjs">https://www.npmjs.com/package/bcryptjs</a>)</li>
<li>What is a Salt?  Why does it exist?</li>
</ul><p>Guiding questions:</p>

<ul>
<li>With one-way hashing, passwords can never be un-encrypted.  How then can you verify that a password is correct?</li>
<li>If a hacker hacks into your database, they already have all of your information.  So why encrypt the passwords?  Haven't you already lost everything at that point?</li>
</ul><p>Going deeper:</p>

<ul>
<li>What are some common password-cracking techniques?  How does BCrypt protect against them?</li>
</ul><h2>
<a class="anchor" name="anchor-2"></a>Using bcrypt</h2>

<ul>
<li>Create a folder called <code>workspace/playground</code> if you don't have one already</li>
<li>cd into your playground</li>
<li>Install the bcrypt package (<a href="https://www.npmjs.com/package/bcryptjs">https://www.npmjs.com/package/bcryptjs</a>)</li>
<li>At the command line, generate some salts and hash some passwords and compare passwords</li>
</ul><h2>
<a class="anchor" name="anchor-3"></a>Putting it together</h2>

<h3>
<a class="anchor" name="anchor-4"></a>Step 1: Get a baseline</h3>

<ul>
<li>Create an express app</li>
<li>Add a Sign Up form to the index page (email, password, password confirmation)</li>
<li>Add a POST route to <code>/signup</code> that creates a user in a mongo database

<ul>
<li>NOTE: add monk via npm and connect to monk in your route</li>
</ul>
</li>
<li>When a user fills out the form and submits, add a user document to the users collection</li>
</ul><h3>
<a class="anchor" name="anchor-5"></a>Step 2: Hash the passwords</h3>

<ul>
<li>Install the bcrypt package (<a href="https://www.npmjs.com/package/bcryptjs">https://www.npmjs.com/package/bcryptjs</a>)</li>
<li>Before creating the user document, generate a salt and then hash the password (use either <code>sync</code> or <code>async</code> methods)</li>
<li>Check to see that your passwords are no longer being stored in plain text</li>
</ul><h3>
<a class="anchor" name="anchor-6"></a>Step 3: Create a faux-login form</h3>

<ul>
<li>Create a login route with a login form</li>
<li>Create a post to <code>/login</code> that:

<ul>
<li>finds the user by email</li>
<li>checks the password against the hashed password</li>
<li>prints out "Yay" or "Boo" depending on whether it matches</li>
</ul>
</li>
</ul>
</div>
</div>
